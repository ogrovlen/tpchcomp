Timing is on.
Timing is on.
pg_stat_statements_reset

Time: 0.624 ms
cntrycode,numcust,totacctbal
14,9013,67801655.90
16,8971,67253661.58
18,9210,69312783.61
20,9246,69455185.22
23,8985,67612769.43
28,9027,67660096.94
33,9179,68880125.08
Time: 2517.565 ms (00:02.518)
cntrycode,numcust,totacctbal
14,9013,67801655.90
16,8971,67253661.58
18,9210,69312783.61
20,9246,69455185.22
23,8985,67612769.43
28,9027,67660096.94
33,9179,68880125.08
Time: 2149.240 ms (00:02.149)
secs,cov
2.3311831315,0.07866773486045181
Time: 1.029 ms
pg_stat_statements_reset

Time: 0.165 ms
cntrycode,numcust,totacctbal
14,9013,67801655.90
16,8971,67253661.58
18,9210,69312783.61
20,9246,69455185.22
23,8985,67612769.43
28,9027,67660096.94
33,9179,68880125.08
Time: 2140.495 ms (00:02.140)
cntrycode,numcust,totacctbal
14,9013,67801655.90
16,8971,67253661.58
18,9210,69312783.61
20,9246,69455185.22
23,8985,67612769.43
28,9027,67660096.94
33,9179,68880125.08
Time: 2146.739 ms (00:02.147)
cntrycode,numcust,totacctbal
14,9013,67801655.90
16,8971,67253661.58
18,9210,69312783.61
20,9246,69455185.22
23,8985,67612769.43
28,9027,67660096.94
33,9179,68880125.08
Time: 2141.544 ms (00:02.142)
cntrycode,numcust,totacctbal
14,9013,67801655.90
16,8971,67253661.58
18,9210,69312783.61
20,9246,69455185.22
23,8985,67612769.43
28,9027,67660096.94
33,9179,68880125.08
Time: 2143.526 ms (00:02.144)
cntrycode,numcust,totacctbal
14,9013,67801655.90
16,8971,67253661.58
18,9210,69312783.61
20,9246,69455185.22
23,8985,67612769.43
28,9027,67660096.94
33,9179,68880125.08
Time: 2138.407 ms (00:02.138)
cntrycode,numcust,totacctbal
14,9013,67801655.90
16,8971,67253661.58
18,9210,69312783.61
20,9246,69455185.22
23,8985,67612769.43
28,9027,67660096.94
33,9179,68880125.08
Time: 2144.675 ms (00:02.145)
cntrycode,numcust,totacctbal
14,9013,67801655.90
16,8971,67253661.58
18,9210,69312783.61
20,9246,69455185.22
23,8985,67612769.43
28,9027,67660096.94
33,9179,68880125.08
Time: 2132.235 ms (00:02.132)
cntrycode,numcust,totacctbal
14,9013,67801655.90
16,8971,67253661.58
18,9210,69312783.61
20,9246,69455185.22
23,8985,67612769.43
28,9027,67660096.94
33,9179,68880125.08
Time: 2138.266 ms (00:02.138)
QUERY PLAN
GroupAggregate  (cost=228106.08..228321.02 rows=7816 width=72)
"  Group Key: (substr((customer.c_phone)::text, 1, 2))"
  InitPlan 1 (returns $0)
    ->  Aggregate  (cost=75321.26..75321.27 rows=1 width=32)
          ->  Seq Scan on customer customer_1  (cost=0.00..75202.00 rows=47704 width=6)
"                Filter: ((c_acctbal > 0.00) AND (substr((c_phone)::text, 1, 2) = ANY ('{18,20,33,14,16,28,23}'::text[])))"
  ->  Sort  (cost=152784.81..152804.35 rows=7816 width=38)
"        Sort Key: (substr((customer.c_phone)::text, 1, 2))"
        ->  Nested Loop Anti Join  (cost=0.43..152279.42 rows=7816 width=38)
              ->  Seq Scan on customer  (cost=0.00..75202.00 rows=17500 width=26)
"                    Filter: ((c_acctbal > $0) AND (substr((c_phone)::text, 1, 2) = ANY ('{18,20,33,14,16,28,23}'::text[])))"
              ->  Index Only Scan using orders_o_custkey_idx on orders  (cost=0.43..48.20 rows=18 width=4)
                    Index Cond: (o_custkey = customer.c_custkey)
Time: 0.855 ms
Timing is off.
secs,cov
2.13933482125,0.0019912253676256726
